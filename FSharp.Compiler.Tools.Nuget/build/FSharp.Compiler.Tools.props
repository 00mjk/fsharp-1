<!--
***********************************************************************************************
FSharp.Compiler.Tools.props

WARNING:  You CAN MODIFY this file, doesnt matter if you are not knowledgeable about MSBuild and
          without a backup copy.
          Incorrect changes to this file will make it impossible to load or build your projects
          from the command-line or the IDE. 
          Just remove FSharp.Compiler.Tools package from nuget cache and re-restore.

***********************************************************************************************
-->
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>

    <!-- specific netcoreapp1.0 fsc -->
    <FscTaskAssemblyPath_netcoreapp1_0>$(MSBuildThisFileDirectory)netcoreapp1.0/FSharp.Build.dll</FscTaskAssemblyPath_netcoreapp1_0>
    <FscToolFullPath_netcoreapp1_0>$(MSBuildThisFileDirectory)netcoreapp1.0/fsc.dll</FscToolFullPath_netcoreapp1_0>
    <FscToolPath_netcoreapp1_0>$(MSBuildThisFileDirectory)netcoreapp1.0</FscToolPath_netcoreapp1_0>

    <!-- specific .NET Framework fsc -->
    <FscTaskAssemblyPath_net>$(MSBuildThisFileDirectory)../tools/FSharp.Build.dll</FscTaskAssemblyPath_net>
    <FscToolFullPath_net>$(MSBuildThisFileDirectory)../tools/fsc.exe</FscToolFullPath_net>
    <FscToolPath_net>$(MSBuildThisFileDirectory)../tools</FscToolPath_net>

  </PropertyGroup>
  
  <Choose>
    <When Condition="('$(MSBuildRuntimeType)' != '') AND ('$(MSBuildRuntimeType)' != 'Full')">      
      <!-- Default to netcoreapp fsc if it is neither empty (legacy msbuild) or full -->
      <PropertyGroup>
        <FscTaskAssemblyPath>$(FscTaskAssemblyPath_netcoreapp1_0)</FscTaskAssemblyPath>
        <FscToolPath>$(FscToolPath_netcoreapp1_0)</FscToolPath>
        <FscToolExe>fsc.dll</FscToolExe>
        <FscToolFullPath>$(FscToolFullPath_netcoreapp1_0)</FscToolFullPath>
      </PropertyGroup>
    </When>
    <Otherwise>    
      <PropertyGroup>
        <FscTaskAssemblyPath>$(FscTaskAssemblyPath_net)</FscTaskAssemblyPath>
        <FscToolPath>$(FscToolPath_net)</FscToolPath>
        <FscToolExe>fsc.exe</FscToolExe>
        <FscToolFullPath>$(FscToolFullPath_net)</FscToolFullPath>
      </PropertyGroup>
    </Otherwise>
  </Choose>

</Project>